require File.expand_path('../../app', __FILE__)
Soshified.setup!

us_members = Member.all(fields: [:day_of_birth, :month_of_birth, :year_of_birth])#, profile: { country: 'us' })
ages = us_members.map(&:age).compact
Hash[ages.group_by {|i| i}.map {|key, value| [key, value.count] }].sort.each do |age|
  puts "#{age.first} years old: #{age.last} members"
end # =>

# 22002 Total Membeers from US
# Out of the 4947 that gave their age:
# 0 years old: 2 members
# 1 years old: 4 members
# 2 years old: 7 members
# 3 years old: 6 members
# 4 years old: 2 members
# 5 years old: 2 members
# 6 years old: 1 member
# 7 years old: 1 member
# 10 years old: 3 members
# 11 years old: 11 members
# 12 years old: 27 members
# 13 years old: 61 members
# 14 years old: 133 members
# 15 years old: 259 members
# 16 years old: 421 members
# 17 years old: 455 members
# 18 years old: 546 members
# 19 years old: 536 members
# 20 years old: 546 members
# 21 years old: 476 members
# 22 years old: 394 members
# 23 years old: 246 members
# 24 years old: 220 members
# 25 years old: 123 members
# 26 years old: 102 members
# 27 years old: 77 members
# 28 years old: 60 members
# 29 years old: 50 members
# 30 years old: 35 members
# 31 years old: 28 members
# 32 years old: 17 members
# 33 years old: 10 members
# 34 years old: 7 members
# 35 years old: 9 members
# 36 years old: 6 members
# 37 years old: 5 members
# 38 years old: 2 members
# 39 years old: 2 members
# 40 years old: 3 members
# 41 years old: 4 members
# 43 years old: 1 member
# 44 years old: 2 members
# 45 years old: 3 members
# 47 years old: 2 members
# 49 years old: 2 members
# 50 years old: 2 members
# 51 years old: 2 members
# 53 years old: 1 member
# 54 years old: 1 member
# 55 years old: 1 member
# 58 years old: 2 members
# 61 years old: 1 member
# 67 years old: 1 member
# 68 years old: 1 member
# 70 years old: 1 member
# 72 years old: 1 member
# 84 years old: 1 member
# 97 years old: 1 member
# 98 years old: 4 members
# 99 years old: 4 members
# 100 years old: 4 members
# 101 years old: 8 members
# 102 years old: 2 members


# 0 years old: 4 members
# 1 years old: 13 members
# 2 years old: 39 members
# 3 years old: 36 members
# 4 years old: 29 members
# 5 years old: 17 members
# 6 years old: 5 members
# 7 years old: 3 members
# 8 years old: 4 members
# 9 years old: 3 members
# 10 years old: 25 members
# 11 years old: 77 members
# 12 years old: 264 members
# 13 years old: 672 members
# 14 years old: 1385 members
# 15 years old: 2420 members
# 16 years old: 3404 members
# 17 years old: 4064 members
# 18 years old: 4264 members
# 19 years old: 4302 members
# 20 years old: 4102 members
# 21 years old: 3721 members
# 22 years old: 3099 members
# 23 years old: 2195 members
# 24 years old: 1475 members
# 25 years old: 1027 members
# 26 years old: 719 members
# 27 years old: 399 members
# 28 years old: 280 members
# 29 years old: 230 members
# 30 years old: 147 members
# 31 years old: 122 members
# 32 years old: 114 members
# 33 years old: 59 members
# 34 years old: 32 members
# 35 years old: 39 members
# 36 years old: 30 members
# 37 years old: 26 members
# 38 years old: 13 members
# 39 years old: 21 members
# 40 years old: 21 members
# 41 years old: 22 members
# 42 years old: 12 members
# 43 years old: 13 members
# 44 years old: 15 members
# 45 years old: 11 members
# 46 years old: 15 members
# 47 years old: 12 members
# 48 years old: 14 members
# 49 years old: 19 members
# 50 years old: 13 members
# 51 years old: 14 members
# 52 years old: 6 members
# 53 years old: 1 members
# 54 years old: 1 members
# 55 years old: 2 members
# 56 years old: 1 members
# 58 years old: 2 members
# 59 years old: 1 members
# 61 years old: 1 members
# 67 years old: 1 members
# 68 years old: 1 members
# 70 years old: 1 members
# 71 years old: 1 members
# 72 years old: 1 members
# 82 years old: 1 members
# 84 years old: 1 members
# 88 years old: 1 members
# 89 years old: 1 members
# 91 years old: 1 members
# 92 years old: 2 members
# 93 years old: 4 members
# 94 years old: 1 members
# 97 years old: 2 members
# 98 years old: 7 members
# 99 years old: 19 members
# 100 years old: 10 members
# 101 years old: 20 members
# 102 years old: 13 members
# 103 years old: 2 members